.data
string: .zero 4096

.text
.global _start

_start:
	bl _read
	bl _strlen
	mov r2, r0
	ldr r1, addr_of_string
	mov r0, #1
	mov r7, #4
	swi #0
	b _exit

_read:
	push {r11}
	mov r0, #0
	ldr r1, addr_of_string
	mov r2, #4096
	mov r7, #3
	swi #0
	pop {r11}
	bx lr

_strlen:
	push {r11}
	mov r0, #0
	ldr r1, addr_of_string
__loop:
	ldrb r2, [r1], #1
	cmp r2, #0
	addne r0, #1
	bne __loop
	pop {r11}
	bx lr
	
_exit:
	mov r7, #1
	swi #0

addr_of_string: .word string
